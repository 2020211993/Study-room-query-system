



















<h1 align = "center">自习室查询需求分析</h1>

<h5 align = "center">周健鹏 2020212031</h5>                                             

<h5 align = "center">赵建书 2020212030</h5>                                                                  

<h5 align = "center">魏庆涛 2020211993</h5>    



​                                                                                                                

​                                              

<div STYLE="page-break-after: always;"></div>






<h2 align = "center">目录</h2>

​                                    [1、任务概述------------------------------------------------------------------3](#jump1)

​											[1.1、目标---------------------------------------------------------------3](#jump5)

​											[1.2、系统（或用户）的特点--------------------------------------3](#jump6)

​											[1.3、假定和约束------------------------------------------------------3](#jump7)

​                                    [2、需求规定------------------------------------------------------------------4](#jump2)

​											[2.1、软件功能说明--------------------------------------------------4](#jump8)

​											[2.2、对功能的一般性规定-----------------------------------------4](#jump9)

​											[2.3、用户界面---------------------------------------------------------4](#jump10)

​											[2.4、对性能的一般性规定-----------------------------------------4](#jump11)

​											[2.5、数据管理能力要求--------------------------------------------5](#jump12)

​											[2.6、故障处理要求--------------------------------------------------5](#jump13)

​											[2.7、其他专门要求--------------------------------------------------5](#jump14)

​                                    [3、运行环境规定------------------------------------------------------------6](#jump3)

​											[3.1、设备---------------------------------------------------------------6](#jump15)

​											[3.2、支撑软件---------------------------------------------------------6](#jump16)

​											[3.3、控制---------------------------------------------------------------6](#jump17)

​                                    [4、尚需解决的问题---------------------------------------------------------7](#jump4)

<div STYLE="page-break-after: always;"></div>

### <span id="jump1">1.任务概述</span>

#### <span id="jump5">1.1、目标</span>

1. 实现用户对教室是否闲置的实时查询

2. 实现用户当日内对某一教室闲置时间的预约

3. 实现用户对某一教室实时人数的查询

4. 实现用户在到达教室后的签到功能以及准备离开时的签退功能

5. 在GUI上实现上述目标

6. 进阶目标：在微信小程序上实现上述目标

7. 进阶目标：若自习时该教室被其他同学预约，可及时发出通知

#### <span id="jump6">1.2、系统（或用户）的特点</span>

* **系统特点**：
  * 从北京邮电大学教务系统上获取全部教室在各个时间节点的教室是否上课情况，需要学工账号进行登录，获取的教室闲置情况准确、稳定，但缺少对空闲教室实时人数的管理，因此需要附加功能实现对实时人数的管理和检测。
  
* **用户特点**：
  * 用户人群属性较为单一，多为本学校的学生，少数可能有本学校教师。用户需求较为简单，获取教室的闲置情况对实时性有一定要求，预约当日教室对当日教室预约整体情况需要有整体认知。

#### <span id="jump7">1.3、假定和约束</span>

* **开发期限限定**：

  * 用两周时间进行需求分析，两周时间进行概要设计，三周时间进行详细设计，四周时间进行实现、调试和集成，在教学周十六周前实现项目并完成对项目的汇报。
  * 基础目标：核心功能使用Python实现，并且使用GUI进行查询的结果显示。
  * 进阶目标：在时间精力充足的情况下使用微信小程序进行系统展示。 
* **开发约束**：
* 进行爬取课表信息的过程需要的网络是校园内网。
  * Python的实现：GUI美观程度较低，而且对平台的适应性较差。


<div STYLE="page-break-after: always;"></div>

### <span id="jump2">2.需求规定</span>

#### <span id="jump8">2.1、软件功能说明</span>

| 功能   要求      | 输入                                                         | 处理                                         | 输出                                                         |
| :--------------- | ------------------------------------------------------------ | -------------------------------------------- | ------------------------------------------------------------ |
| 教室闲置状态查询 | 输入查询时间                                                 | 查询当日教室是否上课和是否有人自习的数据     | 当日空闲教室                                                 |
| 教室   预约      | 输入预约日期及待预约教室                                     | 查询用户输入教室在预定时间的空闲情况         | 若预定教室在规定可用则输出预约成功，若不可用则输出教室预定时间不闲置 |
| 签到、签退       | 每个教室有相应的签到、签退链接，用户在到达教室后以及离开教室前需要点击链接 | 通过用户签到、签退实现对教室内人员的实时管理 | 实时更新教室内人员数量                                       |

#### <span id="jump9">2.2、对功能的一般性规定</span>

* 用户界面简洁明了。
* 若输入的日期不在本学期教学周内，则对用户进行提示输入的日期不在本学期教学周内。

#### <span id="jump10">2.3、用户界面</span>

* 用户界面清晰简洁，分布位置适中。

#### <span id="jump11">2.4、对性能的一般性规定</span>

* **2.4.1、精度**
  * 输入日期具体到一天，返回当日的教室闲置情况。
  
* **2.4.2、时间特性要求**

  * 数据经爬取、实时管理更新后存储在本地，响应时间应较短。在查询、签到以及签退功能中响应时间<1.0s，在其他部分由于可以在打开时就进行数据的读取工作，数据不刷新时，在界面加载同时即可进行展示。即可减少使用过程中加载的情况，降低用户的等待时间。

* **2.4.3、灵活性**

  * 说明对该系统的灵活性的要求，即当需求发生某些变化时，该系统对这些变化的适应能力，如：操作方式上的变化；运行环境的变化；同其他软件的接口的变化；精度和有效时限的变化等。

* **2.4.4、输入输出要求**

  * ```
    输入：str time——time为公历时间，格式标准如：2022-03-01（日期）-01（代表第几节课）
         str name——name为教室名称，格式标准如：N110。（区分大小写）
    输出：str info——info为教室信息，包含教室已有人员数量。
    ```

#### <span id="jump12">2.5、数据管理能力要求</span>

* 假设每间教室信息为40bite，每天11节课，用1个bite来存储实时人员数量，假设整个校区为1000间教室，总容量为45100bites。
* 因为人员数量需要实时管理，所以并不需要新内存的增加，所以内存并不需要随时间增加。

#### <span id="jump13">2.6、故障处理要求</span>

* **软件故障**：Python未安装相应的版本。
* **逻辑及操作问题**：休息日查询课程信息时不能查询到课程信息，应对用户进行提示是休息日。

#### <span id="jump14">2.7、其他专门要求</span>

* 本产品爬取的信息是学校内部信息，并不公布于所有用户。如果技术支持，应对信息进行加密。
* 在爬取信息过程中需要内部学工账号与密码进行登录，应保证对隐私的保护。
* 若使用微信小程序，可以通过微信自带的 login 获取微信公开信息，在未来留存用户的数据，由于微信小程序可以在任何安装微信的 手机上使用，而且微信小程序的开发和网页相似，也可以移植为网页应用。
* 在编程实现过程中应适度增加代码注释以增强代码的可读性和易修改性。
* 系统是通过多个模块组装进行功能实现，在某个模块需要发生改变时，只需要更改该模块的内部逻辑并安设计，输出上下级逻辑模块所需的数据。同样，应用模块化编程可以通过增加模块来进行更多的功能。

<div STYLE="page-break-after: always;"></div>

### <span id="jump3">3.运行环境规定</span>

#### <span id="jump15">3.1、设备</span>

* 安装有Python运行环境的电脑一台或安装微信v8.0.20及以上版本的智能手机一部。 

#### <span id="jump16">3.2、支撑软件</span>

* Pycharm\微信web开发助手\MySQL

#### <span id="jump17">3.3、控制</span>

* 大部分程序都是自动运行，在用户进入程序时载入大部分所需数据，用户输入可以控制程序的运行方向。  

<div STYLE="page-break-after: always;"></div>

### <span id="jump4">4.尚需解决的问题</span>

* ![image-20220321145612095](C:\Users\Rocson\AppData\Roaming\Typora\typora-user-images\image-20220321145612095.png)